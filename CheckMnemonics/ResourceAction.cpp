/* DO NOT EDIT THIS FILE - it is machine generated */

#line 120 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
#include "stdafx.h"
#include "ResourceParser.h"

#line 26 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"



#pragma warning(disable : 4060)

int ResourceParser::reduceAction(unsigned int prod) {
  switch(prod) {
  case 0: /* start -> resourceFile */
#line 126 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_tree.setRoot(getStackTop(0)); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 2: /* resourceDefinitionList -> resourceDefinitionList resourceDefinition */
#line 132 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = (getStackTop(1)&&getStackTop(0))
           ? newNode(getPos(2), COMMA, getStackTop(1), getStackTop(0), NULL)
           : getStackTop(1)? getStackTop(1): getStackTop(0);
    }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 4: /* resourceDefinition -> bitmapDefinition */
#line 139 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 5: /* resourceDefinition -> iconDefinition */
#line 140 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 6: /* resourceDefinition -> customTypeDefinition */
#line 141 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 9: /* resourceDefinition -> guideLinesDefinition */
#line 144 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 10: /* resourceDefinition -> toolbarDefnition */
#line 145 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 12: /* resourceDefinition -> dialogInitDefinition */
#line 147 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 14: /* resourceDefinition -> rcdataDefinition */
#line 149 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 16: /* resourceDefinition -> textIncludeDirective */
#line 151 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 18: /* resourceDefinition -> versionDefinition */
#line 153 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 19: /* resourceDefinition -> typelibDefinition */
#line 154 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 20: /* resourceDefinition -> afxDialogLayout */
#line 155 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 24: /* dialogDefinition -> resourceId DIALOG resourceAttributeList rectangleSpec dialogSpecList BEGIN opt_dialogControlSpecList END */
#line 170 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), dialogDefinition, getStackTop(7), getStackTop(1), getStackTop(3), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 25: /* extendedDialogDefinition -> resourceId DIALOGEX rectangleSpec extendedDialogSpecList BEGIN opt_dialogControlSpecList END */
#line 175 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), dialogDefinition, getStackTop(6), getStackTop(1), getStackTop(3), NULL);  }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 26: /* dialogSpecList -> dialogSpecList dialogSpec */
#line 178 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = (getStackTop(1)&&getStackTop(0))
           ? newNode(getPos(2), COMMA, getStackTop(1), getStackTop(0), NULL)
           : getStackTop(1)? getStackTop(1): getStackTop(0);
    }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 28: /* dialogSpec -> STYLE dialogStyleExpr */
#line 185 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 29: /* dialogSpec -> CAPTION string */
#line 186 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 30: /* dialogSpec -> _MENU identifier */
#line 187 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), _MENU, getStackTop(0), NULL);            }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 31: /* dialogSpec -> _FONT fontSpec */
#line 188 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 32: /* extendedDialogSpecList -> extendedDialogSpecList extendedDialogSpec */
#line 192 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = (getStackTop(1)&&getStackTop(0))
           ? newNode(getPos(2), COMMA, getStackTop(1), getStackTop(0), NULL)
           : getStackTop(1)? getStackTop(1): getStackTop(0);
    }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 34: /* extendedDialogSpec -> STYLE dialogStyleExpr */
#line 199 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 35: /* extendedDialogSpec -> EXSTYLE extendedDialogStyleExpr */
#line 200 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 36: /* extendedDialogSpec -> CAPTION string */
#line 201 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 37: /* extendedDialogSpec -> _MENU identifier */
#line 202 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), _MENU, getStackTop(0), NULL);            }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 38: /* extendedDialogSpec -> _FONT extendedFontSpec */
#line 203 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 49: /* opt_dialogControlSpecList -> epsilon */
#line 228 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(0), dialogControlSpecList, NULL    ); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 50: /* opt_dialogControlSpecList -> dialogControlSpecList */
#line 229 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), dialogControlSpecList, getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 52: /* dialogControlSpecList -> dialogControlSpecList dialogControlSpec */
#line 233 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = (getStackTop(1)&&getStackTop(0))
         ? newNode(getPos(2), COMMA, getStackTop(1), getStackTop(0), NULL)
         : getStackTop(1)? getStackTop(1): getStackTop(0);
    }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 55: /* dialogControlSpec -> editSpec */
#line 242 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 56: /* dialogControlSpec -> comboBoxSpec */
#line 243 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 57: /* dialogControlSpec -> listBoxSpec */
#line 244 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 58: /* dialogControlSpec -> iconSpec */
#line 245 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 59: /* dialogControlSpec -> scrollBarSpec */
#line 246 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 61: /* pushButtonSpec -> buttonType string COMMA identifier controlAttributeList */
#line 250 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), getStackTop(4)->getSymbol(), getStackTop(1), getStackTop(3), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 62: /* buttonType -> PUSHBUTTON */
#line 253 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), PUSHBUTTON   , NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 63: /* buttonType -> DEFPUSHBUTTON */
#line 254 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), DEFPUSHBUTTON, NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 64: /* buttonType -> GROUPBOX */
#line 255 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), GROUPBOX     , NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 65: /* lrcTextSpec -> lrcText string COMMA identifier controlAttributeList */
#line 258 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), LTEXT, getStackTop(1), getStackTop(3), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 74: /* controlSpec -> CONTROL controlId COMMA identifier COMMA string controlAttributeList */
#line 281 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), CONTROL, getStackTop(3), getStackTop(5), getStackTop(1), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 360: /* menuDefinition -> resourceId menuType resourceAttributeList menuBody */
#line 640 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), menuDefinition, getStackTop(3), getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 363: /* menuBody -> BEGIN menuSpecList END */
#line 647 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = getStackTop(1); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 364: /* menuSpecList -> menuSpecList menuSpec */
#line 650 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = (getStackTop(1)&&getStackTop(0))
         ? newNode(getPos(2), COMMA, getStackTop(1), getStackTop(0), NULL)
         : getStackTop(1)? getStackTop(1): getStackTop(0);
    }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 368: /* popupMenu -> POPUP string menuItemModifierList menuBody */
#line 661 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), POPUP, getStackTop(2), getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 369: /* menuItem -> _MENUITEM string COMMA identifierOrNumber menuItemModifierList */
#line 664 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), _MENUITEM, getStackTop(3), getStackTop(1), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 370: /* menuItem -> _MENUITEM SEPARATOR */
#line 665 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = NULL; }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 408: /* acceleratorsDefinition -> resourceId ACCELERATORS resourceAttributeList BEGIN acceleratorList END */
#line 719 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), acceleratorsDefinition, getStackTop(5), getStackTop(1), NULL ); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 409: /* acceleratorList -> acceleratorList accelerator */
#line 722 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), COMMA, getStackTop(1), getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 411: /* accelerator -> constant COMMA identifier opt_acceleratorSpecList */
#line 726 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), accelerator, getStackTop(1), getStackTop(3), getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 413: /* opt_acceleratorSpecList -> COMMA acceleratorSpecList */
#line 730 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = getStackTop(0); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 415: /* acceleratorSpecList -> acceleratorSpecList COMMA acceleratorModifier */
#line 734 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(2), COMMA, getStackTop(2), getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 416: /* acceleratorModifier -> VIRTKEY */
#line 737 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), VIRTKEY , NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 417: /* acceleratorModifier -> ASCII */
#line 738 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), ASCII   , NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 418: /* acceleratorModifier -> SHIFT */
#line 739 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), SHIFT   , NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 419: /* acceleratorModifier -> CONTROL */
#line 740 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), CONTROL , NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 420: /* acceleratorModifier -> ALT */
#line 741 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), ALT     , NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 421: /* acceleratorModifier -> NOINVERT */
#line 742 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), NOINVERT, NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 426: /* stringTableDefinition -> STRINGTABLE resourceAttributeList BEGIN stringSpecList END */
#line 753 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), stringTableDefinition, getStackTop(1), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 427: /* stringSpecList -> stringSpecList stringSpec */
#line 757 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), COMMA, getStackTop(1), getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 429: /* stringSpec -> identifier string */
#line 761 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), stringSpec, getStackTop(1), getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 433: /* languageDirective -> LANGUAGE constant COMMA constant */
#line 771 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode(getPos(1), languageDirective, getStackTop(2), getStackTop(0), NULL); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 457: /* name -> identifier */
#line 821 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode( getPos(1), STRING, getStackTop(0)->getName().cstr());                                 }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 458: /* name -> name DOT identifier */
#line 822 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode( getPos(1), STRING, String(getStackTop(2)->getString() + _T(".") + getStackTop(0)->getName()).cstr()); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 472: /* number -> NUMBER */
#line 852 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode( getPos(1), NUMBER, _ttoi(getText()));      }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 473: /* identifier -> IDENTIFIER */
#line 855 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode( getPos(1), IDENTIFIER, getText());         }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  case 474: /* string -> STRING */
#line 858 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
    { m_leftSide = newNode( getPos(1), STRING, stripQuotes(getText()).cstr()); }
#line 34 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"
    break;
  }
  return 0;
}

#line 864 "C:\\Mytools2015\\CheckMnemonics\\Resource.y"
SyntaxNode *ResourceParser::newNode(const SourcePosition &pos, int symbol, ...) {
  va_list argptr;
  va_start(argptr,symbol);
  SyntaxNode *p = m_tree.vFetchNode(pos,symbol,argptr);
  va_end(argptr);
  return p;
}

void ResourceParser::verror(const SourcePosition &pos, const TCHAR *format, va_list argptr) {
  m_tree.vAddError(&pos,format,argptr);
}

int ResourceParser::_ttoi(const TCHAR *s) { // static
  int result;
  if(_tcsncicmp(s,_T("0x"),2) == 0) {
    _stscanf(s+2,_T("%x"), &result);
  } else {
    _stscanf(s, _T("%d"), &result);
  }
  return result;
}

String ResourceParser::stripQuotes(const String &s) { // static
  const intptr_t len = s.length();
  if((len >= 2) && (s[0]=='"') && (s[len-1] == '"')) {
    return substr(s, 1, len-2);
  } else {
    return s;
  }
}
#line 39 "C:\\mytools2015\\ParserGen\\lib\\parsergencpp.par"


